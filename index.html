<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>לובי הזמיר 15 – תצוגה חיה</title>
  <style>
body {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
  font-family: 'Frank Ruhl Libre', serif;
  min-height: 100vh;
   /background-image: url('https://github.com/peer74/lobby-page/blob/main/%D7%A8%D7%A7%D7%A2%20%D7%91%D7%A0%D7%99%D7%99%D7%9F.png?raw=true');
  / background-image: url('https://github.com/peer74/lobby-page/blob/main/%D7%AA%D7%A6%D7%95%D7%92%D7%AA%20%D7%A1%D7%95%D7%9B%D7%95%D7%AA.png?raw=true');
 background-image: url('https://github.com/peer74/lobby-page/blob/main/1%D7%AA%D7%A6%D7%95%D7%92%D7%AA%20%D7%A1%D7%95%D7%9B%D7%95%D7%AA.png?raw=true');
  /background-image: url('https://copilot.microsoft.com/th/id/BCO.c3dd5980-e855-4e73-bef5-5b5aae4a7000.png');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center center;
  background-attachment: fixed;
  color: #fff;
  overflow: hidden;
  direction: rtl;
}


    .container {
     /  display: none;
	/  padding: 40px;
      max-width: 1000px;
  box-shadow: 0 0 10px rgba(0,0,0,0.5);
  background-color: rgba(51, 51, 51, 0.5); /* אפור כהה עם שקיפות 70% */

  border-radius: 10px;	  
      margin: auto;
    }
    h1 {
      text-align: center;
      font-size: 3em;
      border-bottom: 2px solid #ffd700;
      color: #ffd700;
    }
    .clock {
  text-align: center;
  font-size: 7em; /* גודל מוגדל */
  margin-bottom: 20px;
  color: #5c2c06;
  font-weight: bold;
}

   
  .message {
  
  text-align: center;
  border-radius: 0;
      font-size: 1.5em;
       color: #FFFACD;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}
.VAAD-message {
  font-size: 6em;
  text-align: center;
  margin: 40px auto;
  color: #8B0000; /* צבע כהה */
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.9);
  font-weight: bold;

}
    .date {
      font-size: 1.2em;
      color: #aaa;
      margin-bottom: 10px;
    }
    .text {
      font-size: 1.5em;
    }
  .weather-box, .shabbat-box, .parasha-box {
  position: absolute;
  width: 360px;
  background-color: rgba(51, 51, 51, 0.5); /* אפור כהה עם שקיפות 70% */
  color: #fff;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  font-size: 1.5em;
  line-height: 1.1;
}
    .weather-box { top: 160px; left: 40px; }
    .shabbat-box { top: 160px; right: 40px; }
    .parasha-box { top: 380px; left: 40px; }
    .weather-box h3, .shabbat-box h3, .parasha-box h3 {
      margin-top: 0;
      color: #ffd700;
    }
	
	weather-box {
  position: absolute;
  top: 40px;
  right: 40px;
  width: 280px; /* היה 360px */
  background-color: rgba(51, 51, 51, 0.7);
  color: #fff;
  padding: 15px; /* היה 20px */
  border-radius: 10px;
  box-shadow: 0 0 8px rgba(0,0,0,0.2);
  font-size: 1em; /* היה 1.2em */
  line-height: 1.2;
}



	.date-bar {
      position: absolute;
      top: 10px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      padding: 0 40px;
      font-size: 2.0em;
      color: #fff;
      font-weight: bold;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.9);
	  z-index: 10;
    }
    .gregorian-date { text-align: left; color: #00bcd4; }
    .hebrew-date { text-align: right; color: #00bcd4; }
	
.news-ticker {
  position: fixed;
  bottom: 0;
  width: 100%;
  background-color: rgba(51, 51, 51, 0.7); /* אפור כהה עם שקיפות 70% */
  color: #fff;
  font-size: 2em;
  padding: 20px 0;
  text-align: center;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
  z-index: 999;
}
#newsTickerItem {
  transition: opacity 0.5s ease-in-out;
}

 .forecast-day {
  width: 60px; /* היה 60px */
  padding: 8px; /* היה 10px */
}


.forecast-day .date {
  font-size: 0.8em;
  margin-bottom: 5px;
  color: #fff;
}

.forecast-day img {
  width: 32px;
  height: 32px;
 

.forecast-day .temp {
  font-size: 1em;
  font-weight: bold;
  color: #ffd700;
}

    a { color: #ffd700; text-decoration: none; }
  </style>
</head>
<body>
  <div class="date-bar">
    <div class="gregorian-date" id="gregorianDate">טוען תאריך לועזי...</div>
    <div class="hebrew-date" id="hebrewDate">טוען תאריך עברי...</div>
  </div>

  <div class="weather-box">
  <h3>🌤️ מזג האוויר בנהריה</h3>
 <!--  <img id="weatherIcon" src="" alt="אייקון מזג אוויר" style="width:40px;height:40px;"> -->
  <p id="temp">טוען טמפרטורה...</p>
  <p id="feels"></p>
  <p id="sky"></p>
  <p id="humidity"></p>
  <p id="wind"> קמ"ש</p>
<div style="height:20px;"></div>

	<h3>🗓️ תחזית ל-5 ימים</h3>
  <div id="forecast-grid" style="display:flex; justify-content:space-between; gap:10px; margin-top:10px;"></div>
  <p id="forecast-updated" style="font-size:0.9em; color:#ccc;"></p>
</div>


<div class="shabbat-box">
  <h3>🕯️ זמני שבת </h3>
  <div id="parashaDate"></div>
  <div style="height:20px;"></div>  
  <div id="candleLighting"></div>
  <div style="height:20px;"></div>
  <div id="havdalah"></div>
  <div style="height:20px;"></div>
  <div id="parasha"></div>


</div>

<div class="VAAD-message">
ועד הבית מאחל לכל הדיירים חג סוכות שמח.
</div>

   <div class="clock" id="clock"></div>
   <div class="container">
   <h1>הודעות ועד הבית</h1>

    <div class="message">
        <div class="text">הנכם מתבקשים להימנע מהשלכת מגבונים וסמרטוטים לאסלה. </div>
		<div class="text">בחצי השנה האחרונה הוזמנה ביובית פעמיים עקב הצפה של הביוב.</div>
		
    </div>
    
      
    </div>
  </div>

  <div class="news-ticker">
  <div id="newsTickerItem">🔄 טוען מבזקי חדשות וספורט...</div>
</div>


  <script>
    function updateClock() {
      const now = new Date();
      const options = { hour: '2-digit', minute: '2-digit', second: '2-digit' };
      document.getElementById('clock').textContent = now.toLocaleTimeString('he-IL', options);
    }
    setInterval(updateClock, 1000);
    updateClock();

    function updateGregorianDate() {
      const now = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      document.getElementById("gregorianDate").textContent = now.toLocaleDateString('he-IL', options);
    }

    function updateHebrewDate() {
      const now = new Date();
      const gy = now.getFullYear();
      const gm = now.getMonth() + 1;
      const gd = now.getDate();
      const url = `https://www.hebcal.com/converter?cfg=json&gy=${gy}&gm=${gm}&gd=${gd}&g2h=1`;

      fetch(url)
        .then(response => response.json())
        .then(data => {
          document.getElementById("hebrewDate").textContent = data.hebrew;
        });
    }

    updateGregorianDate();
    updateHebrewDate();
setInterval(() => {
  updateGregorianDate();
  updateHebrewDate();
}, 30000); // עדכון התאריך בכל חצי דקה
    

// תחזית בנהריה
       const apiKey = "d3f2d3be9e14990f231fd3beee10325c";
    const city = "Nahariya";
    const units = "metric";

    async function updateWeather() {
  try {
    const url = `https://api.openweathermap.org/data/2.5/weather?q=Nahariya&units=metric&lang=he&appid=${apiKey}`;
    const response = await fetch(url);
    const data = await response.json();

    document.getElementById("temp").textContent = `🌡️ טמפרטורה: ${Math.round(data.main.temp)}°C`;
    document.getElementById("feels").textContent = `🧥 מרגיש כמו: ${Math.round(data.main.feels_like)}°C`;
    document.getElementById("sky").textContent = `☁️ מצב השמיים: ${data.weather[0].description}`;
    document.getElementById("humidity").textContent = `💧 לחות: ${data.main.humidity}%`;
    document.getElementById("wind").textContent = `🍃 רוח: ${data.wind.speed} מ'/ש'`;

  
  } catch (error) {
    console.error("שגיאה בטעינת מזג האוויר או UV:", error);
    document.getElementById("temp").textContent = "לא ניתן לטעון מזג אוויר";

  }
}

    updateWeather();
    setInterval(updateWeather, 300000); // רענון כל 5 דקות

async function loadFiveDayCompactForecast() {
  const url = `https://api.openweathermap.org/data/2.5/forecast?q=Nahariya&units=metric&cnt=40&appid=d3f2d3be9e14990f231fd3beee10325c&lang=he`;

  try {
    const response = await fetch(url);
    const data = await response.json();

    const dailyData = {};
    data.list.forEach(item => {
      const date = item.dt_txt.split(' ')[0];
      if (!dailyData[date]) {
        dailyData[date] = item;
      }
    });

    const grid = document.getElementById("forecast-grid");
    grid.innerHTML = "";

    Object.keys(dailyData).slice(0, 5).forEach(date => {
      const item = dailyData[date];
      const icon = item.weather[0].icon;
      const temp = Math.round(item.main.temp);
      const dayName = new Date(date).toLocaleDateString('he-IL', { weekday: 'long', day: 'numeric', month: 'numeric' });

      const div = document.createElement("div");
      div.className = "forecast-day";
      div.innerHTML = `
        <div class="date">${dayName}</div>
        <img src="https://openweathermap.org/img/wn/${icon}.png" alt="icon">
        <div class="temp">${temp}°</div>
      `;
      grid.appendChild(div);
    });

    document.getElementById("forecast-updated").textContent =
      `עודכן לאחרונה: ${new Date().toLocaleTimeString('he-IL')}`;
  } catch (error) {
    console.error("שגיאה בתחזית:", error);
    document.getElementById("forecast-grid").innerHTML = "<p>לא ניתן לטעון תחזית</p>";
  }
}

loadFiveDayCompactForecast();
setInterval(loadFiveDayCompactForecast, 300000); // רענון כל 5 דקות

    // פרשת השבוע וזמני שבת
 function updateShabbatTimes() {
      const url = "https://www.hebcal.com/shabbat?cfg=json&geonameid=294117&b=30&M=on&m=50";

  fetch(url)
    .then(response => response.json())
    .then(data => {
      const candle = data.items.find(item => item.category === "candles");
      const havdalah = data.items.find(item => item.category === "havdalah");
      const parasha = data.items.find(item => item.category === "parashat");

      document.getElementById("candleLighting").textContent =
        `🕯️ כניסת שבת: ${candle?.title.split(": ")[1] || "לא זמין"}`;

      document.getElementById("havdalah").textContent =
        `✨ יציאת שבת: ${havdalah?.title.split(": ")[1] || "לא זמין"}`;

      document.getElementById("parasha").textContent =
 //`📖 פרשת השבוע: ${parasha?.hebrew}`;
  `📖 שבת סוכות`;

      // הוספת תאריך עברי לפרשת השבוע
      if (parasha) {
        const parashaDate = new Date(parasha.date);
        const hebcalDateUrl = `https://www.hebcal.com/converter?cfg=json&gy=${parashaDate.getFullYear()}&gm=${parashaDate.getMonth() + 1}&gd=${parashaDate.getDate()}&g2h=1`;

        fetch(hebcalDateUrl)
          .then(res => res.json())
          .then(hebrewData => {
            document.getElementById("parashaDate").textContent =
              `📅 תאריך עברי: ${hebrewData.hebrew}`;
          })
          .catch(() => {
            document.getElementById("parashaDate").textContent =
              "📅 תאריך עברי: לא זמין";
          });
      }
    })
    .catch(error => {
      console.error("שגיאה בטעינת נתוני שבת:", error);
      document.getElementById("candleLighting").textContent = "🕯️ כניסת שבת: שגיאה";
      document.getElementById("havdalah").textContent = "✨ יציאה: שגיאה";
      document.getElementById("parasha").textContent = "📖 פרשת השבוע: שגיאה";
      document.getElementById("parashaDate").textContent = "📅 תאריך עברי: שגיאה";
    });
}


updateShabbatTimes();
setInterval(updateShabbatTimes, 3600000); // רענון כל שעה

    // עדכוני חדשות
let combinedHeadlines = [];
let currentCombinedIndex = 0;
let currentSource = 'news';

const sources = {
  news: {
    url: 'https://api.rss2json.com/v1/api.json?rss_url=https://www.ynet.co.il/Integration/StoryRss2.xml',
    prefix: '📰'
  },
  sport: {
 url: 'https://api.rss2json.com/v1/api.json?rss_url=https://www.ynet.co.il/Integration/StoryRss3.xml',
    prefix: '⚽'
  }
};

async function fetchCombinedHeadlines(sourceKey) {
  const { url, prefix } = sources[sourceKey];
  try {
    const response = await fetch(url);
    const data = await response.json();
    if (!data.items || data.items.length === 0) throw new Error("אין פריטים");
    return data.items.slice(0, 10).map(item => `${prefix} ${item.title}`);
  } catch {
    return [`${prefix} לא ניתן לטעון כותרות`];
  }
}

async function updateCombinedTicker() {
  const sourceKey = currentSource;
  combinedHeadlines = await fetchCombinedHeadlines(sourceKey);
  currentCombinedIndex = 0;
  showNextCombinedHeadline();
  currentSource = sourceKey === 'news' ? 'sport' : 'news';
}

function showNextCombinedHeadline() {
  const ticker = document.getElementById("newsTickerItem");
  ticker.style.opacity = 0;
  setTimeout(() => {
    ticker.textContent = combinedHeadlines[currentCombinedIndex];
    ticker.style.opacity = 1;
    currentCombinedIndex = (currentCombinedIndex + 1) % combinedHeadlines.length;
  }, 500);
}

updateCombinedTicker();
setInterval(showNextCombinedHeadline, 5000);   // מעבר בין כותרות
setInterval(updateCombinedTicker, 50000);      // החלפה בין חדשות וספורט


  </script>
</body>
</html>


